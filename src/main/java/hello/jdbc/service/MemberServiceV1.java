package hello.jdbc.service;import java.sql.SQLException;import hello.jdbc.domain.Member;import hello.jdbc.repository.MemberRepositoryV1;import lombok.RequiredArgsConstructor;@RequiredArgsConstructorpublic class MemberServiceV1 {	private final MemberRepositoryV1 repository;	public void accountTransfer(String fromId, String toId, int money) throws SQLException {		Member fromMember = repository.findById(fromId);		Member toMember = repository.findById(toId);		repository.update(fromMember.getMemberId(), fromMember.getMoney() - money);		validation(toMember);		repository.update(toMember.getMemberId(), toMember.getMoney() + money);	}	private void validation(Member toMember) {		if ("ex".equals(toMember.getMemberId())) {			throw new IllegalStateException("이체중 예외 발생");		}	}}